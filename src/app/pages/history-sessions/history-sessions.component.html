<button mat-fab color="primary" aria-label="previous page" style="margin: 1rem" (click)="previousPage()">
  <mat-icon>undo</mat-icon>
</button>
<div class="filterByDate">
  <mat-form-field appearance="fill" subscriptSizing="dynamic">
    <mat-label>Date Range:</mat-label>
    <mat-date-range-input [formGroup]="dateFilter" [rangePicker]="picker">
      <input matStartDate placeholder="date Open" formControlName="dateOpen">
      <input matEndDate placeholder="date close" formControlName="dateClose">
    </mat-date-range-input>
    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-date-range-picker #picker></mat-date-range-picker>
  </mat-form-field>
  <button mat-raised-button color="primary" (click)="loadDataSource()">search</button>
</div>
<div class="components-container-gt-xs">
  <mat-progress-bar mode="indeterminate" *ngIf="dataSource.loadingSubject | async" style="width: 100%"></mat-progress-bar>
  <div class="mat-elevation-z2 session-list-container">

    <p class="card-head">History of Sessions | <span> {{paginator ? paginator.length : 0}} sessions</span></p>
    <mat-divider></mat-divider>

    <table mat-table [dataSource]="dataSource">

      <!-- Created-At Column -->
      <ng-container matColumnDef="createdAt">
        <th mat-header-cell *matHeaderCellDef> Created At</th>
        <td mat-cell *matCellDef="let row">{{row.createdAt |date:'dd-MM-YYYY (HH:mm)'}}</td>
      </ng-container>

      <!-- closed-At Column-->
      <ng-container matColumnDef="closedAt">
        <th mat-header-cell *matHeaderCellDef> Closed At</th>
        <td mat-cell *matCellDef="let row">{{(row.closedAt |date:'dd-MM-YYYY (HH:mm)') || 'In Progress ...'}}</td>
      </ng-container>

      <!-- Students present Column -->
      <ng-container matColumnDef="stdPresent">
        <th mat-header-cell *matHeaderCellDef> Students Present</th>
        <td mat-cell *matCellDef="let row">{{row.nbrStudentsPresent}}</td>
      </ng-container>
      <!-- Students absent Column -->
      <ng-container matColumnDef="stdAbsent">
        <th mat-header-cell *matHeaderCellDef> Students Absent</th>
        <td mat-cell *matCellDef="let row">{{row.nbrStudentsAbsent}}</td>
      </ng-container>
      <!-- percent of presence Column -->
      <ng-container matColumnDef="percentOfPresence">
        <th mat-header-cell *matHeaderCellDef> Percent of Presence</th>
        <td mat-cell *matCellDef="let row">{{row.nbrStudentsPresent*100/(row.nbrStudentsPresent+row.nbrStudentsAbsent) || 0}}%</td>
      </ng-container>
      <!-- Status Column -->
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef> Status</th>
        <td mat-cell *matCellDef="let row">{{row.status}}</td>
      </ng-container>
      <!-- actions Button Column -->
      <ng-container matColumnDef="actionBtn">
        <th mat-header-cell *matHeaderCellDef>Print</th>
        <td mat-cell *matCellDef="let row">
          <button mat-mini-fab color="accent" aria-label="icon button with a print icon">
            <mat-icon>print</mat-icon>
          </button>
        </td>
      </ng-container>


      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">No data matching the filter</td>
      </tr>
    </table>


    <mat-paginator [pageSizeOptions]="pageSizeOptions"></mat-paginator>
  </div>
</div>

<!--<div fxLayout="column" fxLayoutAlign="space-between stretch" fxFill class="components-container-gt-xs">-->
<!--  <div fxLayout="row" fxLayoutAlign="space-between stretch" fxFill fxLayoutGap="20px">-->
<!--    <div fxFlex="100" fxLayout="column" class="mat-elevation-z2 contact-list-container">-->
<!--      <div fxLayoutAlign="start center" fxLayout="row">-->
<!--        <h3 class="mat-headline">Programs</h3>-->
<!--        <h3 class="mat-headline">|</h3>-->
<!--        <h6 class="mat-title"> {{10}} programs</h6>-->
<!--      </div>-->
<!--      <mat-divider></mat-divider>-->
<!--      <br>-->
<!--      <div fxLayout.lt-lg="column" fxLayout="row" fxLayoutAlign="space-between stretch">-->
<!--        <div class="full">-->
<!--          <mat-form-field class="full" subscriptSizing="dynamic">-->
<!--            <input matInput [(ngModel)]="searchValue" name="search" (input)="search()" placeholder="Search contacts">-->
<!--            <mat-icon matSuffix>search</mat-icon>-->
<!--          </mat-form-field>-->
<!--        </div>-->
<!--      </div>-->
<!--      <br>-->
<!--      <table mat-table [dataSource]="dataSource" matSort>-->

<!--        &lt;!&ndash; ID Column &ndash;&gt;-->
<!--        <ng-container matColumnDef="id">-->
<!--          <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>-->
<!--          <td mat-cell *matCellDef="let row"> {{row.id}} </td>-->
<!--        </ng-container>-->

<!--        &lt;!&ndash; Progress Column &ndash;&gt;-->
<!--        <ng-container matColumnDef="progress">-->
<!--          <th mat-header-cell *matHeaderCellDef mat-sort-header> Progress </th>-->
<!--          <td mat-cell *matCellDef="let row"> {{row.progress}}% </td>-->
<!--        </ng-container>-->

<!--        &lt;!&ndash; Name Column &ndash;&gt;-->
<!--        <ng-container matColumnDef="name">-->
<!--          <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>-->
<!--          <td mat-cell *matCellDef="let row"> {{row.name}} </td>-->
<!--        </ng-container>-->

<!--        &lt;!&ndash; Fruit Column &ndash;&gt;-->
<!--        <ng-container matColumnDef="fruit">-->
<!--          <th mat-header-cell *matHeaderCellDef mat-sort-header> Fruit </th>-->
<!--          <td mat-cell *matCellDef="let row"> {{row.fruit}} </td>-->
<!--        </ng-container>-->

<!--        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>-->
<!--        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>-->

<!--        &lt;!&ndash; Row shown when there is no matching data. &ndash;&gt;-->
<!--        <tr class="mat-row" *matNoDataRow>-->
<!--          <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>-->
<!--        </tr>-->
<!--      </table>-->


<!--      <mat-paginator [length]="totalPrograms" [pageSize]="pageSize" [pageSizeOptions]="pageSizeOptions"-->
<!--                     (page)="onPageChanged($event)"></mat-paginator>-->
<!--    </div>-->
<!--  </div>-->
<!--</div>-->
